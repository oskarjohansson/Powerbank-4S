EESchema Schematic File Version 4
EELAYER 30 0
EELAYER END
$Descr A4 11693 8268
encoding utf-8
Sheet 1 6
Title "USB-C PD controller with 4S battery charger"
Date "2020-01-11"
Rev "1"
Comp ""
Comment1 ""
Comment2 ""
Comment3 ""
Comment4 ""
$EndDescr
$Sheet
S 1500 3900 1000 1000
U 5E0D235E
F0 "Battery" 50
F1 "Battery.sch" 50
$EndSheet
$Comp
L Device:R R1
U 1 1 5E3AB7DA
P 2300 1300
F 0 "R1" V 2250 1450 50  0000 C CNN
F 1 "4k7" V 2300 1300 50  0000 C CNN
F 2 "Resistor_SMD:R_0603_1608Metric" V 2230 1300 50  0001 C CNN
F 3 "~" H 2300 1300 50  0001 C CNN
	1    2300 1300
	0    1    1    0   
$EndComp
Text Notes 1850 850  0    50   ~ 0
Bus pullups
$Comp
L Device:R R2
U 1 1 5E7D5CC8
P 2300 1400
F 0 "R2" V 2250 1550 50  0000 C CNN
F 1 "4k7" V 2300 1400 50  0000 C CNN
F 2 "Resistor_SMD:R_0603_1608Metric" V 2230 1400 50  0001 C CNN
F 3 "~" H 2300 1400 50  0001 C CNN
	1    2300 1400
	0    1    1    0   
$EndComp
$Comp
L Device:R R3
U 1 1 5E7D5F09
P 2300 1500
F 0 "R3" V 2250 1650 50  0000 C CNN
F 1 "4k7" V 2300 1500 50  0000 C CNN
F 2 "Resistor_SMD:R_0603_1608Metric" V 2230 1500 50  0001 C CNN
F 3 "~" H 2300 1500 50  0001 C CNN
	1    2300 1500
	0    1    1    0   
$EndComp
$Comp
L Device:R R4
U 1 1 5E7D608C
P 2300 1600
F 0 "R4" V 2250 1750 50  0000 C CNN
F 1 "10k" V 2300 1600 50  0000 C CNN
F 2 "Resistor_SMD:R_0603_1608Metric" V 2230 1600 50  0001 C CNN
F 3 "~" H 2300 1600 50  0001 C CNN
	1    2300 1600
	0    1    1    0   
$EndComp
$Comp
L Device:R R5
U 1 1 5E7D632E
P 2300 1700
F 0 "R5" V 2250 1850 50  0000 C CNN
F 1 "3.83k" V 2300 1700 50  0000 C CNN
F 2 "Resistor_SMD:R_0603_1608Metric" V 2230 1700 50  0001 C CNN
F 3 "~" H 2300 1700 50  0001 C CNN
	1    2300 1700
	0    1    1    0   
$EndComp
Wire Wire Line
	2550 1300 2450 1300
Wire Wire Line
	2450 1400 2550 1400
Connection ~ 2550 1400
Wire Wire Line
	2550 1400 2550 1300
Wire Wire Line
	2450 1500 2550 1500
Connection ~ 2550 1500
Wire Wire Line
	2550 1500 2550 1400
Wire Wire Line
	2450 1600 2550 1600
Connection ~ 2550 1600
Wire Wire Line
	2550 1600 2550 1500
Wire Wire Line
	2450 1700 2550 1700
Wire Wire Line
	2550 1700 2550 1600
Wire Wire Line
	2150 1700 2050 1700
Wire Wire Line
	2050 1600 2150 1600
Wire Wire Line
	2150 1500 2050 1500
Wire Wire Line
	2050 1400 2150 1400
Wire Wire Line
	2150 1300 2050 1300
Wire Wire Line
	2550 1150 2550 1300
Connection ~ 2550 1300
Wire Notes Line
	2850 900  2850 2000
Wire Notes Line
	2850 900  1500 900 
Wire Notes Line
	1500 900  1500 2000
Wire Notes Line
	1500 2000 2850 2000
Wire Wire Line
	2450 4000 3050 4000
Wire Wire Line
	3050 4100 2450 4100
Wire Wire Line
	2450 4200 3050 4200
Wire Wire Line
	2450 4300 3050 4300
Text GLabel 3050 4000 2    50   Input ~ 0
CELL4
Text GLabel 2450 4000 0    50   Input ~ 0
CELL4
Text GLabel 2450 4100 0    50   Input ~ 0
CELL3
Text GLabel 2450 4200 0    50   Input ~ 0
CELL2
Text GLabel 2450 4300 0    50   Input ~ 0
CELL1
Text GLabel 3050 4100 2    50   Input ~ 0
CELL3
Text GLabel 3050 4200 2    50   Input ~ 0
CELL2
Text GLabel 3050 4300 2    50   Input ~ 0
CELL1
Wire Wire Line
	2450 4800 3050 4800
$Comp
L power:-BATT #PWR0101
U 1 1 5E1B0263
P 3050 4800
F 0 "#PWR0101" H 3050 4650 50  0001 C CNN
F 1 "-BATT" V 3065 4928 50  0000 L CNN
F 2 "" H 3050 4800 50  0001 C CNN
F 3 "" H 3050 4800 50  0001 C CNN
	1    3050 4800
	0    1    1    0   
$EndComp
$Comp
L power:-BATT #PWR0102
U 1 1 5E1B0A24
P 2450 4800
F 0 "#PWR0102" H 2450 4650 50  0001 C CNN
F 1 "-BATT" V 2465 4927 50  0000 L CNN
F 2 "" H 2450 4800 50  0001 C CNN
F 3 "" H 2450 4800 50  0001 C CNN
	1    2450 4800
	0    -1   -1   0   
$EndComp
$Comp
L power:+BATT #PWR0103
U 1 1 5E1B12EE
P 2450 4700
F 0 "#PWR0103" H 2450 4550 50  0001 C CNN
F 1 "+BATT" V 2465 4827 50  0000 L CNN
F 2 "" H 2450 4700 50  0001 C CNN
F 3 "" H 2450 4700 50  0001 C CNN
	1    2450 4700
	0    -1   -1   0   
$EndComp
$Comp
L power:+BATT #PWR0104
U 1 1 5E1B15C4
P 3050 4700
F 0 "#PWR0104" H 3050 4550 50  0001 C CNN
F 1 "+BATT" V 3065 4828 50  0000 L CNN
F 2 "" H 3050 4700 50  0001 C CNN
F 3 "" H 3050 4700 50  0001 C CNN
	1    3050 4700
	0    1    1    0   
$EndComp
Wire Wire Line
	2450 4700 3050 4700
$Comp
L power:+VDC #PWR0105
U 1 1 5E1B4946
P 4450 4700
F 0 "#PWR0105" H 4450 4600 50  0001 C CNN
F 1 "+VDC" V 4450 4929 50  0000 L CNN
F 2 "" H 4450 4700 50  0001 C CNN
F 3 "" H 4450 4700 50  0001 C CNN
	1    4450 4700
	0    -1   -1   0   
$EndComp
Text GLabel 3700 4850 1    50   Input ~ 0
SDA_1
$Sheet
S 2000 5500 1000 1500
U 61A9F6E2
F0 "Buck boost charger" 50
F1 "BuckBoostCharger.sch" 50
F2 "VBUS" I L 2000 5850 50 
F3 "VSYS" I L 2000 6000 50 
F4 "SDA" I R 3000 6650 50 
F5 "SCL" I R 3000 6750 50 
F6 "CHRG_OK" I L 2000 6300 50 
F7 "OTG" I L 2000 6400 50 
F8 "CMPOUT" I L 2000 5750 50 
F9 "CMPIN" I L 2000 5650 50 
F10 "BAT+" I L 2000 5550 50 
$EndSheet
$Sheet
S 3500 5500 1000 1500
U 61B3C887
F0 "Processor STM32" 50
F1 "Processor.sch" 50
F2 "USB_DM" I R 4500 5650 50 
F3 "USB_DP" I R 4500 5750 50 
F4 "SDA" I L 3500 6650 50 
F5 "SCL" I L 3500 6750 50 
F7 "INT_N" I R 4500 6000 50 
$EndSheet
$Sheet
S 5000 5500 1000 1500
U 61B869E1
F0 "USB Controller" 50
F1 "USB_Controller.sch" 50
F2 "SDA" I L 5000 6650 50 
F3 "SCL" I L 5000 6750 50 
F4 "INT_N" I L 5000 6000 50 
F5 "VBUS" I R 6000 5900 50 
F6 "VCONN" I R 6000 5750 50 
F7 "USB_DM" I L 5000 5650 50 
F8 "USB_DP" I L 5000 5750 50 
$EndSheet
Wire Wire Line
	5000 6750 4850 6750
Wire Wire Line
	4850 6750 4850 7200
Wire Wire Line
	4850 7200 3100 7200
Wire Wire Line
	3100 7200 3100 6750
Wire Wire Line
	3100 6750 3000 6750
Wire Wire Line
	3000 6650 3400 6650
Wire Wire Line
	3500 6750 3100 6750
Connection ~ 3100 6750
Wire Wire Line
	3400 6650 3400 7100
Wire Wire Line
	3400 7100 4750 7100
Wire Wire Line
	4750 7100 4750 6650
Wire Wire Line
	4750 6650 5000 6650
Connection ~ 3400 6650
Wire Wire Line
	3400 6650 3500 6650
Text Label 4550 7200 0    50   ~ 0
SCL
Text Label 4550 7100 0    50   ~ 0
SDA
Text Label 2050 1300 2    50   ~ 0
SDA
Text Label 2050 1400 2    50   ~ 0
SCL
$Comp
L power:+3V3 #PWR?
U 1 1 61BABA3E
P 2550 1150
F 0 "#PWR?" H 2550 1000 50  0001 C CNN
F 1 "+3V3" H 2565 1323 50  0000 C CNN
F 2 "" H 2550 1150 50  0001 C CNN
F 3 "" H 2550 1150 50  0001 C CNN
	1    2550 1150
	1    0    0    -1  
$EndComp
Text Label 2050 1500 2    50   ~ 0
INT_N
Wire Wire Line
	4500 6000 5000 6000
Text Label 4850 6000 2    50   ~ 0
INT_N
$Sheet
S 3000 3900 1500 1000
U 5E0CBF52
F0 "Cell Balancer - BQ4050" 50
F1 "CellBalancer.sch" 50
$EndSheet
$EndSCHEMATC
